Quiz.window.CreateFormStep=function(e){(e=e||{}).id||(e.id="quiz-step-window-create"),Ext.applyIf(e,{title:_("quiz_row_create"),action:"mgr/step/create"}),Quiz.window.CreateFormStep.superclass.constructor.call(this,e)},Ext.extend(Quiz.window.CreateFormStep,Quiz.window.Default,{getFields:function(e){return[{xtype:"hidden",name:"id",id:e.id+"-id"},{xtype:"hidden",name:"form_id",id:e.id+"-form_id"},{xtype:"modx-tabs",deferredRender:!1,stateful:!0,id:Ext.id(),items:[{title:_("quiz_form_content"),layout:"form",hideMode:"offsets",defaults:{msgTarget:"under",border:!1},items:this.getContent(e)},{title:_("quiz_form_fields"),layout:"form",hideMode:"offsets",defaults:{msgTarget:"under",border:!1},items:this.getStepFields(e)}]}]},getContent:function(e){return[{xtype:"textfield",fieldLabel:_("quiz_form_title"),description:"<b>[[+title]]</b>",name:"title",id:e.id+"-title",anchor:"99.5%",allowBlank:!0},{xtype:"textarea",fieldLabel:_("quiz_form_description"),description:"<b>[[+description]]</b>",name:"description",id:e.id+"-description",anchor:"99.5%",allowBlank:!0},{xtype:"quiz-image",fieldLabel:_("quiz_form_image"),description:"<b>[[+image]]</b>",name:"image",id:e.id+"-image",anchor:"100%",width:100,allowBlank:!0},{xtype:"textarea",fieldLabel:_("quiz_form_content"),description:"<b>[[+content]]</b>",name:"content",id:e.id+"-content",anchor:"99%",allowBlank:!0,listeners:{afterrender:e=>{Quiz.utils.renderRTE(e)}}}]},getStepFields:function(e){return[{xtype:"quiz-grid-fields",form_id:e.record?.form_id||0,step_id:e.record?.id||0,contact:0,id:Ext.id()}]}}),Ext.reg("quiz-step-window-create",Quiz.window.CreateFormStep),Quiz.window.UpdateFormStep=function(e){(e=e||{}).id||(e.id="quiz-step-window-update"),Ext.applyIf(e,{title:_("quiz_row_update")+": "+e.record.title,action:"mgr/step/update"}),Quiz.window.UpdateFormStep.superclass.constructor.call(this,e)},Ext.extend(Quiz.window.UpdateFormStep,Quiz.window.CreateFormStep),Ext.reg("quiz-step-window-update",Quiz.window.UpdateFormStep);